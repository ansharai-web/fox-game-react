(this["webpackJsonpfox-game-react"]=this["webpackJsonpfox-game-react"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(2),a=n.n(o),r=n(5),i=n.n(r),s=(n(11),n(12),n(1)),u=(n(13),["fish","poop","weather"]),d=["day","rain"],l=function(e){return Math.floor(3*Math.random())+2+e},m=function(e){return Math.floor(3*Math.random())+3+e},b=function(e){return Math.floor(3*Math.random())+8+e};function j(){var e=function(){var e=Object(o.useContext)(v).setSelectedIcon;return{handleLeftButton:function(){e((function(e){return 0===e?u.length-1:e-1}))}}}().handleLeftButton;return Object(c.jsx)("button",{className:"btn left-btn",onClick:e})}function f(){var e=function(){var e=Object(o.useContext)(v),t=e.current,n=e.actions,c=n.startGame,a=n.changeWeather,r=n.cleanUpPoop,i=n.feed,s=e.selectedIcon;return{handleMiddleButton:function(){if(!["SLEEP","FEEDING","CELEBRATING","HATCHING"].includes(t)){if("INIT"===t||"DEAD"===t)return c(),console.log("start game");switch(u[s]){case"weather":a();break;case"poop":r();break;case"fish":i()}}}}}().handleMiddleButton;return Object(c.jsx)("button",{className:"btn middle-btn",onClick:e})}function O(){var e=function(){var e=Object(o.useContext)(v).setSelectedIcon;return{handleRightButton:function(){e((function(e){return e===u.length-1?0:e+1}))}}}().handleRightButton;return Object(c.jsx)("button",{className:"btn right-btn",onClick:e})}function h(){return Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsx)(j,{}),Object(c.jsx)(f,{}),Object(c.jsx)(O,{})]})}function x(e){var t=e.text;return Object(c.jsx)("div",{className:"modal",children:Object(c.jsx)("div",{className:"modal-inner",children:t})})}function g(e){var t=e.selectedIcon;return Object(c.jsxs)("div",{className:"icons",children:[Object(c.jsx)("div",{className:"icon fish-icon ".concat(0===t?"highlighted":"")}),Object(c.jsx)("div",{className:"icon poop-icon ".concat(1===t?"highlighted":""," ")}),Object(c.jsx)("div",{className:"icon weather-icon ".concat(2===t?"highlighted":"")})]})}var T=n(3);function p(){var e=Object(o.useState)({current:"INIT",modFox:"hidden",modScene:"day",scene:0,clock:1,wakeTime:-1,sleepTime:-1,hungryTime:-1,timeToStartCelebrating:-1,timeToEndCelebrating:-1,poopTime:-1,dieTime:-1}),t=Object(T.a)(e,2),n=t[0],c=t[1],a=n.current,r=n.modFox,i=n.modScene,u=n.clock,j=n.wakeTime,f=n.sleepTime,O=n.hungryTime,h=n.timeToStartCelebrating,x=n.timeToEndCelebrating,g=n.poopTime,p=n.dieTime,v=n.scene,k=Object(o.useState)(Date.now()),I=Object(T.a)(k,2),N=I[0],S=I[1],C=Object(o.useState)(0),E=Object(T.a)(C,2),F=E[0],w=E[1],G=Object(o.useState)(!1),P=Object(T.a)(G,2),D=P[0],y=P[1],B=Object(o.useState)("Press the middle button to start"),L=Object(T.a)(B,2),M=L[0],A=L[1];function H(){var e=Date.now();N<=e&&(!function(){switch(u){case j:!function(){var e=Math.random()>.2?0:1;c((function(t){return Object(s.a)(Object(s.a)({},t),{},{current:"IDLING",wakeTime:-1,modFox:"rain"===d[e]?"fox-rain":"fox-idling",modScene:d[e],sleepTime:t.clock+60,hungryTime:l(t.clock)})}))}();break;case f:c((function(e){return Object(s.a)(Object(s.a)(Object(s.a)({},e),{},{current:"SLEEP",modFox:"fox-sleep",modScene:"night"},{wakeTime:-1,sleepTime:-1,hungryTime:-1,dieTime:-1,poopTime:-1,timeToStartCelebrating:-1,timeToEndCelebrating:-1}),{},{wakeTime:e.clock+2})}));break;case O:c((function(e){return Object(s.a)(Object(s.a)({},e),{},{current:"HUNGRY",dieTime:m(e.clock),hungryTime:-1,modFox:"fox-hungry"})}));break;case h:c((function(e){return Object(s.a)(Object(s.a)({},e),R(e.clock))}));break;case x:c((function(e){return Object(s.a)(Object(s.a)({},e),(y(!1),{timeToEndCelebrating:-1,current:"IDLING",modFox:"rain"===d[v]?"fox-rain":"fox-idling"}))}));break;case g:c((function(e){return Object(s.a)(Object(s.a)({},e),{},{current:"POOPING",poopTime:-1,modFox:"fox-pooping",dieTime:m(e.clock)})}));break;case p:c((function(e){return Object(s.a)(Object(s.a)({},e),{},{current:"DEAD",modScene:"dead",modFox:"fox-dead"},{wakeTime:-1,sleepTime:-1,hungryTime:-1,dieTime:-1,poopTime:-1,timeToStartCelebrating:-1,timeToEndCelebrating:-1})})),A("The fox died, press the middle button to start")}c((function(e){return Object(s.a)(Object(s.a)({},e),{},{clock:e.clock+1})}))}(),S(e+3e3))}function R(e){return{current:"CELEBRATING",modFox:"fox-celebrate",timeToStartCelebrating:-1,timeToEndCelebrating:e+2}}return Object(o.useEffect)((function(){if("DEAD"!==a){var e=setInterval((function(){requestAnimationFrame(H)}),1e3);return function(){return clearInterval(e)}}})),{modScene:i,modFox:r,showPoopBag:D,modalText:M,actions:{changeWeather:function(){var e=(1+v)%d.length;c((function(t){return Object(s.a)(Object(s.a)({},t),{},{scene:e,modScene:d[e],modFox:"rain"===d[e]?"fox-rain":"fox-idling"})}))},cleanUpPoop:function(){"POOPING"===a&&(c((function(e){return Object(s.a)(Object(s.a)({},e),{},{dieTime:-1,hungryTime:l(e.clock)},R(e.clock))})),y(!0))},feed:function(){"HUNGRY"===a&&c((function(e){return Object(s.a)(Object(s.a)({},e),{},{current:"FEEDING",dieTime:-1,poopTime:b(e.clock),modFox:"fox-eating",timeToStartCelebrating:e.clock+2})}))},startGame:function(){c((function(e){return Object(s.a)(Object(s.a)({},e),{},{current:"HATCHING",wakeTime:e.clock+3,modScene:"day",modFox:"fox-egg "})})),A("")}},setSelectedIcon:w,current:a,selectedIcon:F}}var v=Object(o.createContext)(void 0);function k(e){return Object(c.jsx)(v.Provider,Object(s.a)({},e))}var I=function(){var e=p(),t=e.modScene,n=e.modFox,o=e.showPoopBag,a=e.modalText,r=e.actions,i=e.setSelectedIcon,s=e.current,u=e.selectedIcon;return Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"inner",children:[Object(c.jsx)("div",{className:"game ".concat(t)}),Object(c.jsx)("div",{className:"fox ".concat(n)}),Object(c.jsx)("div",{className:"poop-bag ".concat(o?"":"hidden")}),Object(c.jsx)("div",{className:"foreground-rain"}),Object(c.jsx)("div",{className:"frame"}),Object(c.jsx)(x,{text:a}),Object(c.jsx)(k,{value:{actions:r,setSelectedIcon:i,current:s,selectedIcon:u},children:Object(c.jsx)(h,{})}),Object(c.jsx)(g,{selectedIcon:u})]})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),a(e),r(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(I,{})}),document.getElementById("root")),N()}],[[14,1,2]]]);
//# sourceMappingURL=main.619f53e4.chunk.js.map